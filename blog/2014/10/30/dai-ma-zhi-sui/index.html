
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>代码之髓 - 每天进步一点点</title>
  <meta name="author" content="Jianfree">

  
  <meta name="description" content="最近读了《代码之髓-编程语言核心概念这本书》，深入浅出，谈古论今，很好的一本介绍程序语言基本概念的书籍。 如何深入高效的学习语言 学习语言，对比不同语言学习，知道哪些知识是各个语言共通的，哪些知识是各个语言特有的，不同的编程语言，有不同的语法规则。表示同一种概念的时候，规则也许也不一样。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jianfree.github.io/blog/2014/10/30/dai-ma-zhi-sui/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="每天进步一点点" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-49956692-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">每天进步一点点</a></h1>
  
    <h2>当我离开时，不带走任何东西，只求带走一个优秀的自己.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jianfree.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/about">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">代码之髓</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-10-30T21:35:04+08:00" pubdate data-updated="true">Oct 30<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>最近读了《代码之髓-编程语言核心概念这本书》，深入浅出，谈古论今，很好的一本介绍程序语言基本概念的书籍。</p>

<h3>如何深入高效的学习语言</h3>

<p>学习语言，对比不同语言学习，知道哪些知识是各个语言共通的，哪些知识是各个语言特有的，不同的编程语言，有不同的语法规则。表示同一种概念的时候，规则也许也不一样。通过对比不同的编程语言，学习编程语言通用的知识。学习新的编程语言就容易很多，例如C、Ruby、java语言的真假值表示方法就很不一样.某些情况下也应该从历史中学习，了解某种编程概念是在什么环境下产生的，解决了什么问题，从而理解语言为何开发出了这种功能。</p>

<h3>程序设计语言诞生史</h3>

<p>1946年，第一台可编程的计算机ENIAC（埃尼阿克）出现，通过更改电缆连接方式来更改程序。1949年通过纸带打点的方式来记录或者读取数据的计算机EDSAC(爱达赛克)出现。1954年，与现今使用的类似编程语言FORTRAN语言问世。laziness（懒惰）,impatience（急躁）,hubris（傲慢）是程序员的三大美德，由于这些原因，为了写程序的编辑，出现了各种不同的编程语言。每一种编程语言，都有其便捷之处。语言只是工具，要根据自己的使用目的来选择好的工具。</p>

<h3>关于语法</h3>

<p>语法就是语言设计者制定的规则，比如运算符的先后顺序，是采用前缀，或者中缀，还是后缀表达式，FORTH语言是一门基本没有语法的语言，计算的流程采用栈的运算逻辑，现如今，很多语言也使用栈机器型的VM，比如Ruby,Java,Python。现今的语言都使用语法树。语法分析器，就是把源代码作为字符读入，解析，并建立语法树的程序。一种语言，添加新的功能时，需要考虑是否与现有的语法有冲突。语言之间的差异就是语法的差异。</p>

<h3>关于程序的控制流程</h3>

<p>程序语言通过导入if,for,while使得程序代码理解变为简单，才有了结构化程序设计的诞生。汇编语言能实现if条件语句的功能，但是，为了简便，高级语言有了if条件判断语句。C语言跳转有了goto语句。为了清晰，通过if else 语法替代了if与goto语句组合才能实现的功能。while语句让反复执行的if语句更简洁，for语句让数字渐增得while语句更简洁，foreach语句让对每个元素都有相同处理的for语句更简洁。为了程序的简洁，才有了这些程序流程控制语句。</p>

<h3>关于函数</h3>

<p>把代码的一部分视为一个整体，切分出来为之命名的程序设计机制叫函数，不同时期，不同语言，也叫事务，程序（procedure），子程序(subprocedure)，方法（method）。函数便于理解其功能与重复使用。
1949年的EDSAC就有把反复使用的命令封装到一起再利用的功能。通过栈记录函数跳转地址，与函数返回地址，实现函数的执行与返回。函数内部再次调用本函数叫做递归调用。递归调用非常适合处理嵌套得数据。</p>

<h3>关于错误处理</h3>

<p>主要由2种错误处理方式，一是通过返回值来传达错误信息，函数调用方检查函数的返回值，来进行错误处理。c语言中采用此种方式。二是出错后跳转到错误的执行代码处，常被成为异常处理，java中采用此种方式。前者处理方式有可能会遗漏错误，错误处理使得代码的可读性下降。后者处理方法：出错就跳转，历史比较久远。可追加错误类型和可自主触发错误，对现今的异常处理机制具有重要意义。抛出异常的语句叫throw，raise，也有叫signal。早期某些语言是先定义好出错时的处理操作，再写可能出错的代码。现今的语言，比如java是先编写可能出错的代码，再编写处理错误的代码。命令有可能抛出异常，而程序员有可能忘记这种可能性。也有可能在错误的地方编写了错误的处理代码，处理错误的异常类型，故程序需要明确说明可能产生何种异常，需要有将可能出现错误的代码括起来的语句结构，因此才有了try{}语句或者begin .. end这种语法的产生。采用结构化异常处理可以提高代码的可靠性，程序执行完必须执行某种清理工作，有了finally语法，没有finally的语言，也有其他类似的解决方案，如c++的析构函数，D语言的作用域守护方案。各种语言，对何时抛出异常也有不一致的地方。比如在参数不足的时候，是否抛出异常。异常传递的时候，处理时，有可能会遗漏处理某些异常，故有了检查型异常，比如java语言里面，必须处理掉有可能抛出的所有异常，不然编译不通过。但检查型异常有可能会造成某个函数新增了一个异常，调用到这个函数的所有地方都需要进行修改，很麻烦，所有现今有些语言，也没有采用检查型异常。</p>

<h3>名字和作用域</h3>

<p>为了便于理解，变量才有了名字。为了避免程序中出现名字冲突，可以取更长的变量名，后来程序越来越多，取更长的变量名也不能避免冲突，所有有了名字作用域的概念方法。作用域指名字的有效范围，可见范围。作用域有动态作用域与静态作用域。动态作用域把变量原先的值保留在函数的入口处，返回的时候再写回。动态作用域中改写的值会影响到被调用函数，为了解决这个问题，出现了静态作用域的概念。变量与其值的关系可以用一张对照表来表示。动态作用域中的对照表能被全部代码读取。而静态作用域，则按照函数来区分对照表。每一个函数，有它自己的对照表，名字也就避免了冲突。静态作用域在处理函数嵌套的时候，有可能也会出现问题。面向对象语言中的private public 等访问修饰符会限制可访问范围。变量在任何一种语言中都存在，语言的不同，为了解决出现的问题，有可能会带来差异。</p>

<h3>类型</h3>

<p>类型是人们给数值追加的数据。计算机存储的是二进制数据，此数据解析成字符，数字，音乐，电影，或者其他内容，都是由类型决定的。数字可以采用二进制，八进制，十进制，十六进制来表示。表达实数时，小数点位数确定的为定点数，不确定的为浮点数。某些编程语言，变量名称就包含了类型信息，比如早期的FORTRAN。为了准确表示各种类型的数字，所以有了int ,long,float,double这些类型。不同类型之间的数字进行计算时，往往会进行隐性的类型转换。最初为加入数值的类型信息而开始使用的类型概念，慢慢推广到更多的场合，包括用户自定义类型（c语言中的结构体）以及面向对象中类，接口的一些概念。编程语言，有动态类型，静态类型。把类型的信息与数值看做整体的方式，叫做动态类型。动态类型，通过在值里面添加上类型信息来实现。动态类型更灵活，静态类型在程序运行之前能做编译检查，检查程序中类型不一致错误。动态类型也可以通过类型推断来进行编译检查。</p>

<h3>容器与字符串</h3>

<p>能放入多个元素的数据结构叫做容器。常用的有数组，链表，字典（也叫散列，关联数组），树，各种结构都有其优缺点，根据使用场景来选择合适的数据结构。字符为单个的符号（a,b,c,中），很多个单个的字符组成字符串。字符的集合叫做字符集，把字符集中的字符转换为计算机能识别的二进制数据叫做编码方式。计算机诞生以前，人们用摩斯码，博多码进行编码。很多程序源代码都支持魔术注释符添加源代码的编码格式（utf8,gbk）,方便语言处理器能正确解析源代码并无误执行。现今包含世界上所有的字符的字符集合为unicode.</p>

<h3>并行处理</h3>

<p>通过cpu时间分片，在短时间之内切换不同任务交替来执行，来实现对不同任务同时处理的效果。交替有2种模式，一是协作式多任务，二是抢占式多任务。并行执行有可能会出现竟态，导致线程不安全。出现竟态必须满足3个条件，一是两个线程会处理共享变量，至少一个线程会对共享变量进行修改，一个线程为完成处理之前，另外一个线程有可能介入进来。actor模型，通过不共享内存,通过消息传递的方法来并行处理进行信息交互，这种方式是非同步的。编程语言通过关键字声明变量不可变，来消除对共享变量的修改。通过锁（mutex）来规避一个线程未执行完，另外一个线程进入处理。锁处理不好，有可能会陷入死锁。</p>

<h3>面向对象</h3>

<p>面向对象的内涵因语言不同而有差异。c++中指使用了用户自定义类型和继承的程序设计。对象是现实世界的模型。大部分语言中，类并不是不可或缺的，java例外。归集变量与函数建立模型的方法有模板（module）,把函数与变量放入散列，闭包（closure）。闭包并没有特殊的语法结构。类是用户可自定义的类型（c++）,是现实世界的分类。类有3大作用，整合体的生成器（new），可行操作的基本单位(method)，代码再利用的单位(继承),继承可以分为一般化与专门话，共享部分提取，差异实现。里氏置换原则可以表达为继承必须是is-a的关系。多重继承对实现方式的再利用提供了方便，但是也会出现冲突，某些语言（java）会禁止多重继承，采用接口（interface）或者委托(delegate)方式来实现相同的功能。也可以按照顺序进行搜索（C3线性话）来解决冲突（python），也可以采用混入式（mix-in）处理（ruby）,或者Trait技术（Scala）。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jianfree</span></span>

      








  


<time datetime="2014-10-30T21:35:04+08:00" pubdate data-updated="true">Oct 30<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/programming-lauguage/'>programming-lauguage</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  

  
     <!-- JiaThis Button BEGIN -->
<div class="jiathis_style_24x24">
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1364037836073208" charset="utf-8"></script>
<!-- JiaThis Button END -->

<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js"></script>
<!-- UY END -->
  
</div>



    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/10/07/2014guo-qing-qian-hou-ji-shi/" title="Previous Post: 2014国庆前后记事">&laquo; 2014国庆前后记事</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/octopress/'>Octopress (1)</a></li>
<li class='category'><a href='/blog/categories/diary/'>diary (28)</a></li>
<li class='category'><a href='/blog/categories/life/'>life (1)</a></li>
<li class='category'><a href='/blog/categories/other/'>other (1)</a></li>
<li class='category'><a href='/blog/categories/programming-lauguage/'>programming-lauguage (1)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/10/30/dai-ma-zhi-sui/">代码之髓</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/07/2014guo-qing-qian-hou-ji-shi/">2014国庆前后记事</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/15/20140515ri-ji/">20140515日记</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/12/20140512ri-ji/">20140512日记</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/11/20140511ri-ji/">20140511日记</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Jianfree -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a>.</span>
</p>

</footer>
  











</body>
</html>
